{"version":3,"file":"BkWEt4jxc2Oj2teMzcr.js","names":[],"sources":["../../node_modules/bootstrap-icons/icons/box-arrow-up-right.svg?component","../../node_modules/bootstrap-icons/icons/calendar-event.svg?component","../../node_modules/bootstrap-icons/icons/person-fill.svg?component","../../app/components/ltFileMetadata.vue","../../app/components/ltFileMetadata.vue","../../app/components/ltFileThumbnail.vue","../../app/components/ltFileThumbnail.vue"],"sourcesContent":["<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-box-arrow-up-right\" viewBox=\"0 0 16 16\">\n  <path fill-rule=\"evenodd\" d=\"M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5\"/>\n  <path fill-rule=\"evenodd\" d=\"M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0z\"/>\n</svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-calendar-event\" viewBox=\"0 0 16 16\">\n  <path d=\"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z\"/>\n  <path d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z\"/>\n</svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-person-fill\" viewBox=\"0 0 16 16\">\n  <path d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6\"/>\n</svg>","<template>\n  <div v-show=\"description !== false\" v-html=\"file.description\"></div>\n  <div v-if=\"file.timestamp\" class=\"small\">\n    <span class=\"icon-link\">\n      <CalendarEvent />\n      <time v-html=\"file.timestamp\"></time>\n    </span>\n  </div>\n  <div v-if=\"file.author\" class=\"small\">\n    <span class=\"icon-link\">\n      <PersonFill />\n      <span v-html=\"file.author\"></span>\n    </span>\n  </div>\n  <a\n    v-for=\"category in file.categories\"\n    :key=\"category\"\n    class=\"text-decoration-none\"\n    :href=\"`https://commons.wikimedia.org/wiki/Category:${category}`\"\n    target=\"_blank\"\n  >\n    <span class=\"badge bg-secondary me-1 text-truncate\" style=\"max-width: 100%\">\n      {{ category }}\n    </span>\n  </a>\n</template>\n\n<script setup lang=\"ts\">\nimport type {FileDetails} from '../api/ltData';\nimport CalendarEvent from 'bootstrap-icons/icons/calendar-event.svg?component';\nimport PersonFill from 'bootstrap-icons/icons/person-fill.svg?component';\n\ndefineProps<{\n  description?: false;\n  file: FileDetails;\n}>();\n</script>\n","<template>\n  <div v-show=\"description !== false\" v-html=\"file.description\"></div>\n  <div v-if=\"file.timestamp\" class=\"small\">\n    <span class=\"icon-link\">\n      <CalendarEvent />\n      <time v-html=\"file.timestamp\"></time>\n    </span>\n  </div>\n  <div v-if=\"file.author\" class=\"small\">\n    <span class=\"icon-link\">\n      <PersonFill />\n      <span v-html=\"file.author\"></span>\n    </span>\n  </div>\n  <a\n    v-for=\"category in file.categories\"\n    :key=\"category\"\n    class=\"text-decoration-none\"\n    :href=\"`https://commons.wikimedia.org/wiki/Category:${category}`\"\n    target=\"_blank\"\n  >\n    <span class=\"badge bg-secondary me-1 text-truncate\" style=\"max-width: 100%\">\n      {{ category }}\n    </span>\n  </a>\n</template>\n\n<script setup lang=\"ts\">\nimport type {FileDetails} from '../api/ltData';\nimport CalendarEvent from 'bootstrap-icons/icons/calendar-event.svg?component';\nimport PersonFill from 'bootstrap-icons/icons/person-fill.svg?component';\n\ndefineProps<{\n  description?: false;\n  file: FileDetails;\n}>();\n</script>\n","<template>\n  <img\n    class=\"img-fluid img-thumbnail fade-in-image\"\n    loading=\"lazy\"\n    :src=\"lazyUrl\"\n    :lazy-img=\"thumbnailUrl\"\n    style=\"max-height: 100%; cursor: zoom-in; width: 100%\"\n    @click=\"showDialog()\"\n    @load=\"setLazyImg($event)\"\n  />\n  <div\n    v-if=\"dialogShown\"\n    class=\"modal\"\n    style=\"display: block; cursor: zoom-out; background: rgba(0, 0, 0, 0.5)\"\n    @click=\"hideDialog()\"\n  >\n    <div class=\"modal-dialog modal-fullscreen\">\n      <div class=\"modal-content\">\n        <div class=\"modal-body text-center\">\n          <img\n            class=\"img-fluid\"\n            loading=\"lazy\"\n            :src=\"thumbnailUrl\"\n            :lazy-img=\"imageUrl\"\n            style=\"width: 100%; height: 100%; object-fit: contain\"\n            @load=\"setLazyImg($event)\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {ref, computed, type WatchHandle} from 'vue';\nimport type {CommonsFile} from '../model';\nimport {useMagicKeys, whenever} from '@vueuse/core';\n\nconst dialogShown = ref(false);\n\nconst props = defineProps<{\n  file: CommonsFile;\n}>();\n\nconst lazyUrl = computed(() => props.file.imageUrl(120));\n\nconst thumbnailUrl = computed(() => props.file.imageUrl(1024));\n\nconst imageUrl = computed(() => {\n  const width = window.innerWidth * (window.devicePixelRatio || 1);\n  // use widths from UploadThumbnailRenderMap = [320, 640, 800, 1280] and MediaViewerThumbnailBucketSizes settings\n  return props.file.imageUrl(width > 1280 ? undefined : 1280);\n});\n\nfunction setLazyImg($event: Event) {\n  const img = $event.target as HTMLImageElement;\n  const lazy = img.getAttribute('lazy-img');\n  if (!lazy || img.src === lazy) return;\n  img.src = lazy;\n}\n\nconst keys = useMagicKeys();\nlet handle: WatchHandle;\n\nfunction showDialog() {\n  dialogShown.value = true;\n  handle = whenever(keys['Escape'], () => hideDialog());\n}\n\nfunction hideDialog() {\n  dialogShown.value = false;\n  handle?.stop();\n}\n</script>\n\n<style scoped>\n.fade-in-image {\n  animation: fadeIn 0.5s;\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n</style>\n","<template>\n  <img\n    class=\"img-fluid img-thumbnail fade-in-image\"\n    loading=\"lazy\"\n    :src=\"lazyUrl\"\n    :lazy-img=\"thumbnailUrl\"\n    style=\"max-height: 100%; cursor: zoom-in; width: 100%\"\n    @click=\"showDialog()\"\n    @load=\"setLazyImg($event)\"\n  />\n  <div\n    v-if=\"dialogShown\"\n    class=\"modal\"\n    style=\"display: block; cursor: zoom-out; background: rgba(0, 0, 0, 0.5)\"\n    @click=\"hideDialog()\"\n  >\n    <div class=\"modal-dialog modal-fullscreen\">\n      <div class=\"modal-content\">\n        <div class=\"modal-body text-center\">\n          <img\n            class=\"img-fluid\"\n            loading=\"lazy\"\n            :src=\"thumbnailUrl\"\n            :lazy-img=\"imageUrl\"\n            style=\"width: 100%; height: 100%; object-fit: contain\"\n            @load=\"setLazyImg($event)\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {ref, computed, type WatchHandle} from 'vue';\nimport type {CommonsFile} from '../model';\nimport {useMagicKeys, whenever} from '@vueuse/core';\n\nconst dialogShown = ref(false);\n\nconst props = defineProps<{\n  file: CommonsFile;\n}>();\n\nconst lazyUrl = computed(() => props.file.imageUrl(120));\n\nconst thumbnailUrl = computed(() => props.file.imageUrl(1024));\n\nconst imageUrl = computed(() => {\n  const width = window.innerWidth * (window.devicePixelRatio || 1);\n  // use widths from UploadThumbnailRenderMap = [320, 640, 800, 1280] and MediaViewerThumbnailBucketSizes settings\n  return props.file.imageUrl(width > 1280 ? undefined : 1280);\n});\n\nfunction setLazyImg($event: Event) {\n  const img = $event.target as HTMLImageElement;\n  const lazy = img.getAttribute('lazy-img');\n  if (!lazy || img.src === lazy) return;\n  img.src = lazy;\n}\n\nconst keys = useMagicKeys();\nlet handle: WatchHandle;\n\nfunction showDialog() {\n  dialogShown.value = true;\n  handle = whenever(keys['Escape'], () => hideDialog());\n}\n\nfunction hideDialog() {\n  dialogShown.value = false;\n  handle?.stop();\n}\n</script>\n\n<style scoped>\n.fade-in-image {\n  animation: fadeIn 0.5s;\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n</style>\n"],"x_google_ignoreList":[0,1,2],"mappings":"8LAEA,IAAG,EAAgB,CACjB,MAAG,mlBCDF,EAAgB,CACjB,MAAG,ueCDA,EAAA,6mBEDH,EAAoE,MAAA,CAAhC,UAAQ,EAAA,KAAK,YAAA,CAAA,KAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAApC,EAAA,cAAW,GAAA,CAAA,CAAA,CACb,EAAA,KAAK,WAAA,GAAA,CAAhB,EAKM,MALN,EAKM,CAJJ,EAGO,OAHP,EAGO,CAFL,EAAiB,EAAA,EAAA,CAAA,CACjB,EAAqC,OAAA,CAA/B,UAAQ,EAAA,KAAK,UAAA,CAAA,KAAA,EAAA,EAAA,CAAA,CAAA,CAAA,CAAA,EAAA,EAAA,GAAA,GAAA,CAGZ,EAAA,KAAK,QAAA,GAAA,CAAhB,EAKM,MALN,EAKM,CAJJ,EAGO,OAHP,EAGO,CAFL,EAAc,EAAA,EAAA,CAAA,CACd,EAAkC,OAAA,CAA5B,UAAQ,EAAA,KAAK,OAAA,CAAA,KAAA,EAAA,EAAA,CAAA,CAAA,CAAA,CAAA,EAAA,EAAA,GAAA,GAAA,QAGvB,EAUI,EAAA,KAAA,EATiB,EAAA,KAAK,WAAjB,QADT,EAUI,IAAA,CARD,IAAK,EACN,MAAM,uBACL,KAAI,+CAAiD,IACtD,OAAO,WAEP,EAEO,OAFP,EAEO,EADF,EAAQ,CAAA,EAAA,CAAA,CAAA,EAAA,EAAA,4NEgBjB,IAAM,EAAc,EAAI,GAAM,CAExB,EAAQ,EAIR,EAAU,MAAe,EAAM,KAAK,SAAS,IAAI,CAAC,CAElD,EAAe,MAAe,EAAM,KAAK,SAAS,KAAK,CAAC,CAExD,EAAW,MAAe,CAC9B,IAAM,EAAQ,OAAO,YAAc,OAAO,kBAAoB,GAE9D,OAAO,EAAM,KAAK,SAAS,EAAQ,KAAO,IAAA,GAAY,KAAK,EAC3D,CAEF,SAAS,EAAW,EAAe,CACjC,IAAM,EAAM,EAAO,OACb,EAAO,EAAI,aAAa,WAAW,CACrC,CAAC,GAAQ,EAAI,MAAQ,IACzB,EAAI,IAAM,GAGZ,IAAM,EAAO,GAAc,CACvB,EAEJ,SAAS,GAAa,CACpB,EAAY,MAAQ,GACpB,EAAS,EAAS,EAAK,WAAiB,GAAY,CAAC,CAGvD,SAAS,GAAa,CACpB,EAAY,MAAQ,GACpB,GAAQ,MAAM,6BAtEd,EAQE,MAAA,CAPA,MAAM,wCACN,QAAQ,OACP,IAAK,EAAA,MACL,WAAU,EAAA,MACX,MAAA,CAAA,aAAA,OAAA,OAAA,UAAA,MAAA,OAAsD,CACrD,QAAK,AAAA,EAAA,KAAA,GAAE,GAAU,CACjB,OAAI,AAAA,EAAA,KAAA,GAAE,EAAW,EAAM,aAGlB,EAAA,OAAA,GAAA,CADR,EAoBM,MAAA,OAlBJ,MAAM,QACN,MAAA,CAAA,QAAA,QAAA,OAAA,WAAA,WAAA,qBAAwE,CACvE,QAAK,AAAA,EAAA,KAAA,GAAE,GAAU,GAElB,EAaM,MAbN,EAaM,CAZJ,EAWM,MAXN,EAWM,CAVJ,EASM,MATN,EASM,CARJ,EAOE,MAAA,CANA,MAAM,YACN,QAAQ,OACP,IAAK,EAAA,MACL,WAAU,EAAA,MACX,MAAA,CAAA,MAAA,OAAA,OAAA,OAAA,aAAA,UAAsD,CACrD,OAAI,AAAA,EAAA,KAAA,GAAE,EAAW,EAAM"}