import{c as e,l as t}from"./BXKdr608ngUESnwh9TJ.js";import{H as n,f as r}from"./index-DKeDeMIW.js";var i=t(e(),1);function a(e,t){return Object.assign(t,e.geocodingQueryParams)}function o(e,t){return Object.assign(t,e.reverseQueryParams)}var s=/[&<>"'`]/g,c=/[&<>"'`]/,l={"&":`&amp;`,"<":`&lt;`,">":`&gt;`,'"':`&quot;`,"'":`&#x27;`,"`":`&#x60;`};function u(e){return l[e]}function d(e){return e==null?``:e?(e=``+e,c.test(e)?e.replace(s,u):e):e+``}function f(e,t){let n={Accept:`application/json`},r=new URL(e);return Object.entries(t).forEach(([e,t])=>{(Array.isArray(t)?t:[t]).forEach(t=>{r.searchParams.append(e,t)})}),fetch(r.toString(),{headers:n}).then(e=>e.json())}function p(e,t){return e.replace(/\{ *([\w_]+) *\}/g,(e,n)=>{let r=t[n];return r===void 0?r=``:typeof r==`function`&&(r=r(t)),d(r)})}var m=class{options={serviceUrl:`https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer`,apiKey:``};constructor(e){i.Util.setOptions(this,e)}async geocode(e){let t=a(this.options,{token:this.options.apiKey,SingleLine:e,outFields:`Addr_Type`,forStorage:!1,maxLocations:10,f:`json`});return(await f(this.options.serviceUrl+`/findAddressCandidates`,t)).candidates.map(e=>{let t=new i.LatLng(e.location.y,e.location.x),n=new i.LatLngBounds(new i.LatLng(e.extent.ymax,e.extent.xmax),new i.LatLng(e.extent.ymin,e.extent.xmin));return{name:e.address,bbox:n,center:t}})}suggest(e){return this.geocode(e)}async reverse(e,t){let n=o(this.options,{location:e.lng+`,`+e.lat,distance:100,f:`json`}),r=await f(this.options.serviceUrl+`/reverseGeocode`,n);if(!r||r.error)return[];let a=new i.LatLng(r.location.y,r.location.x),s=new i.LatLngBounds(a,a);return[{name:r.address.Match_addr,center:a,bbox:s}]}};function h(e){return new m(e)}var g=class{options={serviceUrl:`https://dev.virtualearth.net/REST/v1/Locations/`};constructor(e){i.Util.setOptions(this,e)}async geocode(e){let t=a(this.options,{query:e,key:this.options.apiKey}),n=await f(this.options.serviceUrl,t);return this._parseResults(n)}async reverse(e,t){let n=o(this.options,{key:this.options.apiKey}),r=await f(this.options.serviceUrl+e.lat+`,`+e.lng,n);return this._parseResults(r)}_parseResults(e){return e.resourceSets[0].resources.map(e=>{let t=e.bbox;return{name:e.name,bbox:new i.LatLngBounds([t[0],t[1]],[t[2],t[3]]),center:new i.LatLng(...e.point.coordinates)}})}};function ee(e){return new g(e)}var _=class{options={apiKey:``,serviceUrl:`https://atlas.microsoft.com/search`};constructor(e){if(i.Util.setOptions(this,e),!this.options.apiKey)throw Error(`Azure Maps Geocoder requires an API key.`)}async geocode(e){let t={"api-version":`1.0`,query:e,"subscription-key":this.options.apiKey};return((await f(this.options.serviceUrl+`/address/json`,t)).results||[]).map(e=>({name:e.address.freeformAddress,bbox:new i.LatLngBounds([e.viewport.topLeftPoint.lat,e.viewport.topLeftPoint.lon],[e.viewport.btmRightPoint.lat,e.viewport.btmRightPoint.lon]),center:new i.LatLng(e.position.lat,e.position.lon)}))}async reverse(e,t){let n={"api-version":`1.0`,query:e.lat+`,`+e.lng,"subscription-key":this.options.apiKey};return((await f(this.options.serviceUrl+`/address/reverse/json`,n)).addresses||[]).map(t=>({name:t.address.freeformAddress,bbox:new i.LatLngBounds([t.viewport.topLeftPoint.lat,t.viewport.topLeftPoint.lon],[t.viewport.btmRightPoint.lat,t.viewport.btmRightPoint.lon]),center:new i.LatLng(e.lat,e.lng)}))}};function v(e){return new _(e)}var y=class{options={serviceUrl:`https://maps.googleapis.com/maps/api/geocode/json`};constructor(e){i.Util.setOptions(this,e)}async geocode(e){let t=a(this.options,{key:this.options.apiKey,address:e}),n=await f(this.options.serviceUrl,t);return this._parseResults(n)}async reverse(e,t){let n=o(this.options,{key:this.options.apiKey,latlng:e.lat+`,`+e.lng}),r=await f(this.options.serviceUrl,n);return this._parseResults(r)}_parseResults(e){return(e.results||[])?.map(e=>{let t=new i.LatLng(e.geometry.location.lat,e.geometry.location.lng),n=new i.LatLngBounds(new i.LatLng(e.geometry.viewport.northeast.lat,e.geometry.viewport.northeast.lng),new i.LatLng(e.geometry.viewport.southwest.lat,e.geometry.viewport.southwest.lng));return{name:e.formatted_address,bbox:n,center:t,properties:e.address_components}})}};function b(e){return new y(e)}var x=class{options={serviceUrl:`https://geocoder.api.here.com/6.2/`,app_id:``,app_code:``,apiKey:``,maxResults:5};constructor(e){if(i.Util.setOptions(this,e),e?.apiKey)throw Error(`apiKey is not supported, use app_id/app_code instead!`)}geocode(e){let t=a(this.options,{searchtext:e,gen:9,app_id:this.options.app_id,app_code:this.options.app_code,jsonattributes:1,maxresults:this.options.maxResults});return this.getJSON(this.options.serviceUrl+`geocode.json`,t)}reverse(e,t){let n=e.lat+`,`+e.lng;this.options.reverseGeocodeProxRadius&&(n+=`,`+this.options.reverseGeocodeProxRadius);let r=o(this.options,{prox:n,mode:`retrieveAddresses`,app_id:this.options.app_id,app_code:this.options.app_code,gen:9,jsonattributes:1,maxresults:this.options.maxResults});return this.getJSON(this.options.serviceUrl+`reversegeocode.json`,r)}async getJSON(e,t){return((await f(e,t)).response.view?.[0]?.result||[]).map(e=>{let t=e.location,n=new i.LatLng(t.displayPosition.latitude,t.displayPosition.longitude),r=new i.LatLngBounds(new i.LatLng(t.mapView.topLeft.latitude,t.mapView.topLeft.longitude),new i.LatLng(t.mapView.bottomRight.latitude,t.mapView.bottomRight.longitude));return{name:t.address.label,properties:t.address,bbox:r,center:n}})}},S=class{options={serviceUrl:`https://geocode.search.hereapi.com/v1`,apiKey:``,app_id:``,app_code:``,maxResults:10};constructor(e){i.Util.setOptions(this,e)}geocode(e){let t=a(this.options,{q:e,apiKey:this.options.apiKey,limit:this.options.maxResults});if(!t.at&&!t.in)throw Error(`at / in parameters not found. Please define coordinates (at=latitude,longitude) or other (in) in your geocodingQueryParams.`);return this.getJSON(this.options.serviceUrl+`/discover`,t)}reverse(e,t){let n=o(this.options,{at:e.lat+`,`+e.lng,limit:this.options.reverseGeocodeProxRadius,apiKey:this.options.apiKey});return this.getJSON(this.options.serviceUrl+`/revgeocode`,n)}async getJSON(e,t){return((await f(e,t)).items||[]).map(e=>{let t=new i.LatLng(e.position.lat,e.position.lng),n;return n=e.mapView?new i.LatLngBounds(new i.LatLng(e.mapView.south,e.mapView.west),new i.LatLng(e.mapView.north,e.mapView.east)):new i.LatLngBounds(new i.LatLng(e.position.lat,e.position.lng),new i.LatLng(e.position.lat,e.position.lng)),{name:e.address.label,properties:e.address,bbox:n,center:t}})}};function C(e){return e?.apiKey?new S(e):new x(e)}function w(e){let t;if(t=e.match(/^([NS])\s*(\d{1,3}(?:\.\d*)?)\W*([EW])\s*(\d{1,3}(?:\.\d*)?)$/))return new i.LatLng((/N/i.test(t[1])?1:-1)*t[2],(/E/i.test(t[3])?1:-1)*t[4]);if(t=e.match(/^(\d{1,3}(?:\.\d*)?)\s*([NS])\W*(\d{1,3}(?:\.\d*)?)\s*([EW])$/))return new i.LatLng((/N/i.test(t[2])?1:-1)*t[1],(/E/i.test(t[4])?1:-1)*t[3]);if(t=e.match(/^([NS])\s*(\d{1,3})Â°?\s*(\d{1,3}(?:\.\d*)?)?['â€²]?\W*([EW])\s*(\d{1,3})Â°?\s*(\d{1,3}(?:\.\d*)?)?['â€²]?$/))return new i.LatLng((/N/i.test(t[1])?1:-1)*(+t[2]+t[3]/60),(/E/i.test(t[4])?1:-1)*(+t[5]+t[6]/60));if(t=e.match(/^(\d{1,3})Â°?\s*(\d{1,3}(?:\.\d*)?)?['â€²]?\s*([NS])\W*(\d{1,3})Â°?\s*(\d{1,3}(?:\.\d*)?)?['â€²]?\s*([EW])$/))return new i.LatLng((/N/i.test(t[3])?1:-1)*(+t[1]+t[2]/60),(/E/i.test(t[6])?1:-1)*(+t[4]+t[5]/60));if(t=e.match(/^([NS])\s*(\d{1,3})Â°?\s*(\d{1,2})['â€²]?\s*(\d{1,3}(?:\.\d*)?)?["â€³]?\W*([EW])\s*(\d{1,3})Â°?\s*(\d{1,2})['â€²]?\s*(\d{1,3}(?:\.\d*)?)?["â€³]?$/))return new i.LatLng((/N/i.test(t[1])?1:-1)*(+t[2]+t[3]/60+t[4]/3600),(/E/i.test(t[5])?1:-1)*(+t[6]+t[7]/60+t[8]/3600));if(t=e.match(/^(\d{1,3})Â°?\s*(\d{1,2})['â€²]?\s*(\d{1,3}(?:\.\d*)?)?["â€³]\s*([NS])\W*(\d{1,3})Â°?\s*(\d{1,2})['â€²]?\s*(\d{1,3}(?:\.\d*)?)?["â€³]?\s*([EW])$/))return new i.LatLng((/N/i.test(t[4])?1:-1)*(+t[1]+t[2]/60+t[3]/3600),(/E/i.test(t[8])?1:-1)*(+t[5]+t[6]/60+t[7]/3600));if(t=e.match(/^\s*([+-]?\d+(?:\.\d*)?)\s*[\s,]\s*([+-]?\d+(?:\.\d*)?)\s*$/))return new i.LatLng(+t[1],+t[2])}var T=class{options={next:void 0,sizeInMeters:1e4};constructor(e){i.Util.setOptions(this,e)}async geocode(e){let t=w(e);return t?[{name:e,center:t,bbox:t.toBounds(this.options.sizeInMeters)}]:this.options.next?this.options.next.geocode(e):[]}};function E(e){return new T(e)}var D=class{options={serviceUrl:`https://api.mapbox.com/geocoding/v5/mapbox.places/`};constructor(e){i.Util.setOptions(this,e)}_getProperties(e){let t={text:e.text,address:e.address};return(e.context||[]).forEach(e=>{let n=e.id.split(`.`)[0];t[n]=e.text,e.short_code&&(t.countryShortCode=e.short_code)}),t}async geocode(e){let t=this.options.serviceUrl+encodeURIComponent(e)+`.json`,n=a(this.options,{access_token:this.options.apiKey});n.proximity!==void 0&&n.proximity.lat!==void 0&&n.proximity.lng!==void 0&&(n.proximity=n.proximity.lng+`,`+n.proximity.lat);let r=await f(t,n);return this._parseResults(r)}suggest(e){return this.geocode(e)}async reverse(e,t){let n=await f(this.options.serviceUrl+e.lng+`,`+e.lat+`.json`,o(this.options,{access_token:this.options.apiKey}));return this._parseResults(n)}_parseResults(e){return e.features?.length?e.features.map(e=>{let t=new i.LatLng(...e.center.reverse()),n;return n=e.bbox?new i.LatLngBounds(new i.LatLng(...e.bbox.slice(0,2).reverse()),new i.LatLng(...e.bbox.slice(2,4).reverse())):new i.LatLngBounds(t,t),{name:e.place_name,bbox:n,center:t,properties:this._getProperties(e)}}):[]}};function O(e){return new D(e)}var k=class{options={serviceUrl:`https://www.mapquestapi.com/geocoding/v1`};constructor(e){i.Util.setOptions(this,e),this.options.apiKey=decodeURIComponent(this.options.apiKey)}_formatName(...e){return e.filter(e=>!!e).join(`, `)}async geocode(e){let t=a(this.options,{key:this.options.apiKey,location:e,limit:5,outFormat:`json`}),n=await f(this.options.serviceUrl+`/address`,t);return this._parseResults(n)}async reverse(e,t){let n=o(this.options,{key:this.options.apiKey,location:e.lat+`,`+e.lng,outputFormat:`json`}),r=await f(this.options.serviceUrl+`/reverse`,n);return this._parseResults(r)}_parseResults(e){return(e.results?.[0]?.locations||[]).map(e=>{let t=new i.LatLng(e.latLng.lat,e.latLng.lng);return{name:this._formatName(e.street,e.adminArea4,e.adminArea3,e.adminArea1),bbox:new i.LatLngBounds(t,t),center:t}})}};function A(e){return new k(e)}var j=class{options={userId:``,apiKey:``,serviceUrl:`https://neutrinoapi.com/`};constructor(e){i.Util.setOptions(this,e)}async geocode(e){let t=a(this.options,{apiKey:this.options.apiKey,userId:this.options.userId,address:e.split(/\s+/).join(`.`)}),n=await f(this.options.serviceUrl+`geocode-address`,t);if(!n.locations)return[];n.geometry=n.locations[0];let r=new i.LatLng(n.geometry.latitude,n.geometry.longitude),o=new i.LatLngBounds(r,r);return[{name:n.geometry.address,bbox:o,center:r}]}suggest(e){return this.geocode(e)}async reverse(e,t){let n=o(this.options,{apiKey:this.options.apiKey,userId:this.options.userId,latitude:e.lat,longitude:e.lng}),r=await f(this.options.serviceUrl+`geocode-reverse`,n);if(r.status.status!==200||!r.found)return[];let a=new i.LatLng(e.lat,e.lng),s=new i.LatLngBounds(a,a);return[{name:r.address,bbox:s,center:a}]}};function M(e){return new j(e)}var N=class{options={serviceUrl:`https://nominatim.openstreetmap.org/`,htmlTemplate(e){let t=e.address,n,r=[];return(t.road||t.building)&&r.push(`{building} {road} {house_number}`),(t.city||t.town||t.village||t.hamlet)&&(n=r.length>0?`leaflet-control-geocoder-address-detail`:``,r.push(`<span class="`+n+`">{postcode} {city} {town} {village} {hamlet}</span>`)),(t.state||t.country)&&(n=r.length>0?`leaflet-control-geocoder-address-context`:``,r.push(`<span class="`+n+`">{state} {country}</span>`)),p(r.join(`<br/>`),t)}};constructor(e){i.Util.setOptions(this,e||{})}async geocode(e){let t=a(this.options,{q:e,limit:5,format:`json`,addressdetails:1});return(await f(this.options.serviceUrl+`search`,t)).map(e=>{let t=e.boundingbox;return{icon:e.icon,name:e.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(e):void 0,bbox:new i.LatLngBounds([+t[0],+t[2]],[+t[1],+t[3]]),center:new i.LatLng(+e.lat,+e.lon),properties:e}})}async reverse(e,t){let n=o(this.options,{lat:e.lat,lon:e.lng,zoom:Math.round(Math.log(t/256)/Math.log(2)),addressdetails:1,format:`json`}),r=await f(this.options.serviceUrl+`reverse`,n);if(!r?.lat||!r?.lon)return[];let a=new i.LatLng(+r.lat,+r.lon),s=new i.LatLngBounds(a,a);return[{name:r.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(r):void 0,center:a,bbox:s,properties:r}]}};function P(e){return new N(e)}var F=class{options={};constructor(e){i.Util.setOptions(this,e)}async geocode(e){try{let t=this.options.OpenLocationCode.decode(e);return[{name:e,center:new i.LatLng(t.latitudeCenter,t.longitudeCenter),bbox:new i.LatLngBounds(new i.LatLng(t.latitudeLo,t.longitudeLo),new i.LatLng(t.latitudeHi,t.longitudeHi))}]}catch(e){return console.warn(e),[]}}async reverse(e,t){try{return[{name:this.options.OpenLocationCode.encode(e.lat,e.lng,this.options.codeLength),center:new i.LatLng(e.lat,e.lng),bbox:new i.LatLngBounds(new i.LatLng(e.lat,e.lng),new i.LatLng(e.lat,e.lng))}]}catch(e){return console.warn(e),[]}}};function I(e){return new F(e)}var L=class{options={serviceUrl:`https://api.opencagedata.com/geocode/v1/json`};constructor(e){i.Util.setOptions(this,e)}async geocode(e){let t=a(this.options,{key:this.options.apiKey,q:e}),n=await f(this.options.serviceUrl,t);return this._parseResults(n)}suggest(e){return this.geocode(e)}async reverse(e,t){let n=o(this.options,{key:this.options.apiKey,q:[e.lat,e.lng].join(`,`)}),r=await f(this.options.serviceUrl,n);return this._parseResults(r)}_parseResults(e){return(e.results||[]).map(e=>{let t=new i.LatLng(e.geometry.lat,e.geometry.lng),n=e.annotations&&e.annotations.bounds?new i.LatLngBounds(new i.LatLng(e.annotations.bounds.northeast.lat,e.annotations.bounds.northeast.lng),new i.LatLng(e.annotations.bounds.southwest.lat,e.annotations.bounds.southwest.lng)):new i.LatLngBounds(t,t);return{name:e.formatted,bbox:n,center:t,properties:e}})}};function R(e){return new L(e)}var z=class{options={serviceUrl:`https://api.geocode.earth/v1`};constructor(e){i.Util.setOptions(this,e)}async geocode(e){let t=a(this.options,{api_key:this.options.apiKey,text:e}),n=await f(this.options.serviceUrl+`/search`,t);return this._parseResults(n)}async suggest(e){let t=a(this.options,{api_key:this.options.apiKey,text:e}),n=await f(this.options.serviceUrl+`/autocomplete`,t);return this._parseResults(n)}async reverse(e,t){let n=o(this.options,{api_key:this.options.apiKey,"point.lat":e.lat,"point.lon":e.lng}),r=await f(this.options.serviceUrl+`/reverse`,n);return this._parseResults(r)}_parseResults(e){return(e.features||[]).map(e=>{let t=e.geometry.coordinates,n=new i.LatLng(t[1],t[0]),r=Array.isArray(e.bbox)&&e.bbox.length===4?new i.LatLngBounds([e.bbox[1],e.bbox[0]],[e.bbox[3],e.bbox[2]]):new i.LatLngBounds(n,n);return{name:e.properties.label,center:n,bbox:r,properties:e.properties}})}};function B(e){return new z(e)}var V=z,H=B,U=z,W=B,G=class extends z{constructor(e){super(Object.assign({serviceUrl:`https://api.openrouteservice.org/geocode`},e))}};function K(e){return new G(e)}var q=class{options={serviceUrl:`https://photon.komoot.io/api/`,reverseUrl:`https://photon.komoot.io/reverse/`,nameProperties:[`name`,`street`,`suburb`,`hamlet`,`town`,`city`,`state`,`country`]};constructor(e){i.Util.setOptions(this,e)}async geocode(e,t){let n=a(this.options,{q:e}),r=t?.map?.getCenter?.();r&&(n.lat=r.lat,n.lon=r.lng);let i=t?.map?.getZoom?.();i&&(n.zoom=i);let o=await f(this.options.serviceUrl,n);return this._parseResults(o)}suggest(e){return this.geocode(e)}async reverse(e,t){let n=o(this.options,{lat:e.lat,lon:e.lng}),r=await f(this.options.reverseUrl,n);return this._parseResults(r)}_parseResults(e){return(e.features||[]).map(e=>{let t=e.geometry.coordinates,n=new i.LatLng(t[1],t[0]),r=e.properties?.extent,a=r?new i.LatLngBounds([r[1],r[0]],[r[3],r[2]]):new i.LatLngBounds(n,n);return{name:this._decodeFeatureName(e),html:this.options.htmlTemplate?this.options.htmlTemplate(e):void 0,center:n,bbox:a,properties:e.properties}})}_decodeFeatureName(e){return(this.options.nameProperties||[]).map(t=>e.properties?.[t]).filter(e=>!!e).join(`, `)}};function J(e){return new q(e)}var Y=class{options={serviceUrl:`https://api.what3words.com/v2/`};constructor(e){i.Util.setOptions(this,e)}async geocode(e){let t=await f(this.options.serviceUrl+`forward`,a(this.options,{key:this.options.apiKey,addr:e.split(/\s+/).join(`.`)}));if(!t.geometry)return[];let n=new i.LatLng(t.geometry.lat,t.geometry.lng),r=new i.LatLngBounds(n,n);return[{name:t.words,bbox:r,center:n}]}suggest(e){return this.geocode(e)}async reverse(e,t){let n=await f(this.options.serviceUrl+`reverse`,o(this.options,{key:this.options.apiKey,coords:[e.lat,e.lng].join(`,`)}));if(n.status.status!=200)return[];let r=new i.LatLng(n.geometry.lat,n.geometry.lng),a=new i.LatLngBounds(r,r);return[{name:n.words,bbox:a,center:r}]}};function X(e){return new Y(e)}var Z=Object.freeze(Object.defineProperty({__proto__:null,ArcGis:m,AzureMaps:_,Bing:g,GeocodeEarth:V,Google:y,HERE:x,HEREv2:S,LatLng:T,MapQuest:k,Mapbox:D,Mapzen:U,Neutrino:j,Nominatim:N,OpenCage:L,OpenLocationCode:F,Openrouteservice:G,Pelias:z,Photon:q,What3Words:Y,arcgis:h,azure:v,bing:ee,geocodeEarth:H,geocodingParams:a,google:b,here:C,latLng:E,mapQuest:A,mapbox:O,mapzen:W,neutrino:M,nominatim:P,openLocationCode:I,opencage:R,openrouteservice:K,parseLatLng:w,pelias:B,photon:J,reverseParams:o,what3words:X},Symbol.toStringTag,{value:`Module`})),Q=class{constructor(...e){}};Object.getOwnPropertyNames(i.Control.prototype).forEach(e=>Q.prototype[e]=i.Control.prototype[e]),Object.getOwnPropertyNames(i.Evented.prototype).forEach(e=>Q.prototype[e]=i.Evented.prototype[e]);var $=class extends Q{options={showUniqueResult:!0,showResultIcons:!1,collapsed:!0,expand:`touch`,position:`topright`,placeholder:`Search...`,errorMessage:`Nothing found.`,iconLabel:`Initiate a new search`,query:``,queryMinLength:1,suggestMinLength:3,suggestTimeout:250,defaultMarkGeocode:!0};_alts;_container;_errorElement;_geocodeMarker;_input;_lastGeocode;_map;_preventBlurCollapse;_requestCount=0;_results;_selection;_suggestTimeout;constructor(e){super(e),i.Util.setOptions(this,e),this.options.geocoder||(this.options.geocoder=new N)}addThrobberClass(){this._container.classList.add(`leaflet-control-geocoder-throbber`)}removeThrobberClass(){this._container.classList.remove(`leaflet-control-geocoder-throbber`)}onAdd(e){let t=`leaflet-control-geocoder`,n=i.DomUtil.create(`div`,t+` leaflet-bar`),r=i.DomUtil.create(`button`,t+`-icon`,n),a=i.DomUtil.create(`div`,t+`-form`,n);this._map=e,this._container=n,r.innerHTML=`&nbsp;`,r.type=`button`,r.setAttribute(`aria-label`,this.options.iconLabel);let o=this._input=i.DomUtil.create(`input`,``,a);return o.type=`search`,o.value=this.options.query,o.placeholder=this.options.placeholder,i.DomEvent.disableClickPropagation(o),this._errorElement=i.DomUtil.create(`div`,t+`-form-no-error`,n),this._errorElement.innerHTML=this.options.errorMessage,this._alts=i.DomUtil.create(`ul`,t+`-alternatives leaflet-control-geocoder-alternatives-minimized`,n),i.DomEvent.disableClickPropagation(this._alts),i.DomEvent.on(o,`keydown`,this._keydown,this),this.options.geocoder?.suggest&&i.DomEvent.on(o,`input`,this._change,this),i.DomEvent.on(o,`blur`,()=>{this.options.collapsed&&!this._preventBlurCollapse&&this._collapse(),this._preventBlurCollapse=!1}),this.options.collapsed?this.options.expand===`click`?i.DomEvent.on(n,`click`,e=>{e.button===0&&e.detail!==2&&this._toggle()}):this.options.expand===`touch`?i.DomEvent.on(n,i.Browser.touch?`touchstart mousedown`:`mousedown`,e=>{this._toggle(),e.preventDefault(),e.stopPropagation()},this):(i.DomEvent.on(n,`mouseover`,this._expand,this),i.DomEvent.on(n,`mouseout`,this._collapse,this),this._map.on(`movestart`,this._collapse,this)):(this._expand(),i.Browser.touch?i.DomEvent.on(n,`touchstart`,()=>this._geocode()):i.DomEvent.on(n,`click`,()=>this._geocode())),this.options.defaultMarkGeocode&&this.on(`markgeocode`,this.markGeocode,this),this.on(`startgeocode`,this.addThrobberClass,this),this.on(`finishgeocode`,this.removeThrobberClass,this),this.on(`startsuggest`,this.addThrobberClass,this),this.on(`finishsuggest`,this.removeThrobberClass,this),i.DomEvent.disableClickPropagation(n),n}setQuery(e){return this._input.value=e,this}_geocodeResult(e,t){!t&&this.options.showUniqueResult&&e.length===1?this._geocodeResultSelected(e[0]):e.length>0?(this._alts.innerHTML=``,this._results=e,this._alts.classList.remove(`leaflet-control-geocoder-alternatives-minimized`),this._container.classList.add(`leaflet-control-geocoder-options-open`),this._results.forEach((e,t)=>this._alts.appendChild(this._createAlt(e,t)))):(this._container.classList.add(`leaflet-control-geocoder-options-error`),this._errorElement.classList.add(`leaflet-control-geocoder-error`))}markGeocode(e){let t=e.geocode;return this._map.fitBounds(t.bbox),this._geocodeMarker&&this._map.removeLayer(this._geocodeMarker),this._geocodeMarker=new i.Marker(t.center).bindPopup(t.html||t.name).addTo(this._map).openPopup(),this}async _geocode(e=!1){let t=this._input.value;if(!e&&t.length<this.options.queryMinLength)return;let n=++this._requestCount;this._lastGeocode=t,e||this._clearResults();let r={input:t};this.fire(e?`startsuggest`:`startgeocode`,r);let i={map:this._map},a=e?await this.options.geocoder.suggest(t,i):await this.options.geocoder.geocode(t,i);if(n===this._requestCount){let n={input:t,results:a};this.fire(e?`finishsuggest`:`finishgeocode`,n),this._geocodeResult(a,e)}}_geocodeResultSelected(e){let t={geocode:e};this.fire(`markgeocode`,t)}_toggle(){this._container.classList.contains(`leaflet-control-geocoder-expanded`)?this._collapse():this._expand()}_expand(){this._container.classList.add(`leaflet-control-geocoder-expanded`),this._input.select(),this.fire(`expand`)}_collapse(){this._container.classList.remove(`leaflet-control-geocoder-expanded`),this._alts.classList.add(`leaflet-control-geocoder-alternatives-minimized`),this._errorElement.classList.remove(`leaflet-control-geocoder-error`),this._container.classList.remove(`leaflet-control-geocoder-options-open`),this._container.classList.remove(`leaflet-control-geocoder-options-error`),this._input.blur(),this.fire(`collapse`)}_clearResults(){this._alts.classList.add(`leaflet-control-geocoder-alternatives-minimized`),this._selection=null,this._errorElement.classList.remove(`leaflet-control-geocoder-error`),this._container.classList.remove(`leaflet-control-geocoder-options-open`),this._container.classList.remove(`leaflet-control-geocoder-options-error`)}_createAlt(e,t){let n=i.DomUtil.create(`li`,``),r=i.DomUtil.create(`a`,``,n),a=this.options.showResultIcons&&e.icon?i.DomUtil.create(`img`,``,r):null,o=e.html?void 0:document.createTextNode(e.name);return a&&(a.src=e.icon),n.setAttribute(`data-result-index`,String(t)),e.html?r.innerHTML+=e.html:o&&r.appendChild(o),i.DomEvent.on(n,`mousedown touchstart`,t=>{this._preventBlurCollapse=!0,i.DomEvent.stop(t),this._geocodeResultSelected(e),i.DomEvent.on(n,`click touchend`,()=>{this.options.collapsed?this._collapse():this._clearResults()})},this),n}_keydown(e){let t=e=>{this._selection&&=(this._selection.classList.remove(`leaflet-control-geocoder-selected`),this._selection[e>0?`nextSibling`:`previousSibling`]),this._selection||=this._alts[e>0?`firstChild`:`lastChild`],this._selection&&this._selection.classList.add(`leaflet-control-geocoder-selected`)};switch(e.key){case`Escape`:this.options.collapsed?this._collapse():this._clearResults();break;case`ArrowUp`:t(-1);break;case`ArrowDown`:t(1);break;case`Enter`:if(this._selection){let e=parseInt(this._selection.getAttribute(`data-result-index`),10);this._geocodeResultSelected(this._results[e]),this._clearResults()}else this._geocode();break;default:return}i.DomEvent.preventDefault(e)}_change(){let e=this._input.value;e!==this._lastGeocode&&(clearTimeout(this._suggestTimeout),e.length>=this.options.suggestMinLength?this._suggestTimeout=setTimeout(()=>this._geocode(!0),this.options.suggestTimeout):this._clearResults())}};function te(e){return new $(e)}Object.assign($,Z),Object.assign(i.Control,{Geocoder:$,geocoder:te});var ne=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5"/>
  <path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0z"/>
</svg>`;function re(e){let t=new i.Map(e.value).fitWorld(),a=r(`mapLayer`,``),o=r(`mapView`,{lat:51.505,lng:-.09,zoom:13});t.attributionControl.setPrefix(`<a href="https://github.com/simon04/locator-tool/" target="_blank" rel="external noopener">@simon04/locator-tool</a>
    (<a href="https://github.com/simon04/locator-tool/blob/master/LICENSE" target="_blank" rel="external noopener">GPL v3</a>)`);let s=ne,c=`OSM ${s}`,l={maxZoom:21,maxNativeZoom:19},u={[c]:new i.TileLayer(`https://tile.openstreetmap.org/{z}/{x}/{y}.png`,{...l,attribution:`&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors`}),OpenTopoMap:new i.TileLayer(`https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png`,{...l,maxNativeZoom:17,attribution:`&copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>), <a href="http://osm.org/copyright">OpenStreetMap</a> contributors`}),"Wikimedia Maps":new i.TileLayer(`https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}{r}.png`,{...l,maxNativeZoom:19,attribution:`<a href="https://wikimediafoundation.org/wiki/Maps_Terms_of_Use">Wikimedia</a>`}),"Esri World Imagery":new i.TileLayer(`https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}`,{...l,maxNativeZoom:19,attribution:`Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community`}),[`basemap.at ðŸ‡¦ðŸ‡¹ ${s}`]:new i.TileLayer(`https://mapsneu.wien.gv.at/basemap/bmaporthofoto30cm/normal/google3857/{z}/{y}/{x}.jpeg`,{...l,maxNativeZoom:19,attribution:`&copy; <a href="https://basemap.at/">basemap.at</a>`})},d=new i.Control.Layers().addTo(t);for(let[e,t]of Object.entries(u))d.addBaseLayer(t,e);(u[a.value]||u[c])?.addTo(t);let f=new $({placeholder:`â€¦`,position:`topleft`,defaultMarkGeocode:!1});return f.on(`markgeocode`,e=>t.fitBounds(e.geocode.bbox)),f.addTo(t),t.on(`baselayerchange`,e=>a.value=e.name),t.on(`zoomend modeend`,()=>{o.value={lat:t.getCenter().lat,lng:t.getCenter().lng,zoom:t.getZoom()}}),n(o,e=>{t.setView([e.lat,e.lng],e.zoom)},{immediate:!0}),{map:t,mapLayer:a,mapView:o}}export{re as t};
//# sourceMappingURL=BHncciX3sAO02PSaJXe.js.map