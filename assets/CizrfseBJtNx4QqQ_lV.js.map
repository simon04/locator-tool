{"version":3,"file":"CizrfseBJtNx4QqQ_lV.js","names":[],"sources":["../../app/components/ltFilesSelector.vue","../../app/components/ltFilesSelector.vue"],"sourcesContent":["<template>\n  <h2 v-if=\"!userInfo?.user\" class=\"mt-4\">{{ t('Sign in') }}</h2>\n  <p v-if=\"!userInfo?.user\">\n    <span>\n      {{ t('In order to allow locator-tool to modify file description pages, sign in first:') }}\n    </span>\n    <a class=\"btn btn-success icon-link ms-2\" :href=\"loginURL()\">\n      <DoorOpen />\n      <span>{{ t('Log in') }}</span>\n    </a>\n  </p>\n  <p v-if=\"userInfo?.user\" class=\"mt-4\">{{ msgLoggedIn }}</p>\n  <h2>{{ t('Select files to geolocate') }}</h2>\n  <ul class=\"nav nav-pills my-3\">\n    <li class=\"nav-item\">\n      <button\n        class=\"nav-link\"\n        :class=\"{active: $tab === Tab.CATEGORY}\"\n        @click=\"$tab = Tab.CATEGORY\"\n      >\n        {{ t('Category') }}\n      </button>\n    </li>\n    <li class=\"nav-item\">\n      <button class=\"nav-link\" :class=\"{active: $tab === Tab.USER}\" @click=\"$tab = Tab.USER\">\n        {{ t('User files') }}\n      </button>\n    </li>\n    <li class=\"nav-item\">\n      <button class=\"nav-link\" :class=\"{active: $tab === Tab.FILES}\" @click=\"$tab = Tab.FILES\">\n        {{ t('File list') }}\n      </button>\n    </li>\n  </ul>\n  <form v-show=\"$tab === Tab.USER\" @submit.stop.prevent=\"nextForCategory()\">\n    <div class=\"mb-4\">\n      <label for=\"inputUser\">{{ t('User') }}</label>\n      <input\n        id=\"inputUser\"\n        v-model=\"user\"\n        class=\"form-control\"\n        list=\"datalistUser\"\n        placeholder=\"User:…\"\n      />\n    </div>\n    <div class=\"row\">\n      <div class=\"mb-4 col-sm-4\">\n        <label for=\"inputUserLimit\" translate-comment=\"maximum number of files\">\n          {{ t('Limit') }}\n        </label>\n        <input id=\"inputUserLimit\" v-model=\"userLimit\" class=\"form-control\" type=\"number\" />\n      </div>\n      <div class=\"mb-4 col-sm-4\">\n        <label for=\"inputUserStart\">{{ t('Start timestamp') }}</label>\n        <input id=\"inputUserStart\" v-model=\"userStart\" class=\"form-control\" type=\"date\" />\n      </div>\n      <div class=\"mb-4 col-sm-4\">\n        <label for=\"inputUserEnd\">{{ t('End timestamp') }}</label>\n        <input id=\"inputUserEnd\" v-model=\"userEnd\" class=\"form-control\" type=\"date\" />\n      </div>\n    </div>\n    <div class=\"mb-4\">\n      <button class=\"btn btn-success icon-link me-2\" :disabled=\"!user\" @click=\"nextForUser()\">\n        <GeoAlt />\n        <span>{{ t('Load User files to geolocate') }}</span>\n      </button>\n      <button\n        class=\"btn btn-secondary icon-link me-2\"\n        :disabled=\"!user\"\n        @click=\"nextForUser('map')\"\n      >\n        <GlobeEuropeAfrica />\n        <span>{{ t('Show User files on map') }}</span>\n      </button>\n      <button\n        class=\"btn btn-secondary icon-link me-2\"\n        :disabled=\"!user\"\n        @click=\"nextForUser('gallery')\"\n      >\n        <FileImage />\n        <span>{{ t('Show User files as gallery') }}</span>\n      </button>\n      <input class=\"invisible\" type=\"submit\" :disabled=\"!user\" />\n      <lt-spinner v-if=\"isLoading\" />\n      <datalist id=\"datalistUser\">\n        <option v-for=\"i in userSuggestions\" :key=\"i\" :value=\"i\"></option>\n      </datalist>\n    </div>\n  </form>\n  <form v-show=\"$tab === Tab.CATEGORY\" @submit.stop.prevent=\"nextForCategory()\">\n    <div class=\"row\">\n      <div class=\"mb-4 col-lg-10\">\n        <label for=\"inputCategory\">{{ t('Category') }}</label>\n        <input\n          id=\"inputCategory\"\n          v-model=\"category\"\n          class=\"form-control\"\n          list=\"datalistCategory\"\n          placeholder=\"Category:…\"\n        />\n      </div>\n      <div class=\"mb-4 col-lg-2\">\n        <label\n          for=\"inputCategoryDepth\"\n          translate-comment=\"Depth of category tree\"\n          translate-context=\"Category\"\n        >\n          {{ t('Depth') }}\n        </label>\n        <input id=\"inputCategoryDepth\" v-model=\"categoryDepth\" class=\"form-control\" type=\"number\" />\n      </div>\n    </div>\n    <div class=\"mb-4\">\n      <button\n        class=\"btn btn-success icon-link me-2\"\n        :disabled=\"!category\"\n        @click=\"nextForCategory()\"\n      >\n        <GeoAlt />\n        <span>{{ t('Load Category to geolocate') }}</span>\n      </button>\n      <button\n        class=\"btn btn-secondary icon-link me-2\"\n        :disabled=\"!category\"\n        @click=\"nextForCategory('map')\"\n      >\n        <GlobeEuropeAfrica />\n        <span>{{ t('Show Category on map') }}</span>\n      </button>\n      <button\n        class=\"btn btn-secondary icon-link me-2\"\n        :disabled=\"!category\"\n        @click=\"nextForCategory('gallery')\"\n      >\n        <FileImage />\n        <span>{{ t('Show Category as gallery') }}</span>\n      </button>\n      <input class=\"invisible\" type=\"submit\" :disabled=\"!category\" />\n    </div>\n    <lt-spinner v-if=\"isLoading\" />\n    <datalist id=\"datalistCategory\">\n      <option v-for=\"i in categorySuggestions\" :key=\"i\" :value=\"i\"></option>\n    </datalist>\n  </form>\n  <form v-show=\"$tab === Tab.FILES\" @submit.stop.prevent=\"nextForCategory()\">\n    <div class=\"mb-4\">\n      <label for=\"inputTitles\">{{ t('File list') }}</label>\n      <textarea\n        id=\"inputTitles\"\n        v-model=\"titles\"\n        class=\"form-control\"\n        rows=\"10\"\n        placeholder=\"File:…\"\n        @paste=\"onFilesPaste($event)\"\n      ></textarea>\n      <p\n        class=\"form-text\"\n        v-html=\"\n          t(\n            'When a clipboard content containing HTML code (for instance a copied selection from a Commons gallery) is pasted here, locator-tool tries to extract <code>File:</code>s from the code.'\n          )\n        \"\n      ></p>\n    </div>\n    <div class=\"mb-4\">\n      <button class=\"btn btn-success icon-link me-2\" :disabled=\"!titleList.length\" @click=\"next()\">\n        <GeoAlt />\n        <span>{{ msgLoadGeolocate }}</span>\n      </button>\n      <button\n        class=\"btn btn-secondary icon-link me-2\"\n        :disabled=\"!titleList.length\"\n        @click=\"next('map')\"\n      >\n        <GlobeEuropeAfrica />\n        <span>{{ msgShowMap }}</span>\n      </button>\n      <button\n        class=\"btn btn-secondary icon-link me-2\"\n        :disabled=\"!titleList.length\"\n        @click=\"next('gallery')\"\n      >\n        <FileImage />\n        <span>{{ msgShowGallery }}</span>\n      </button>\n    </div>\n  </form>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed, ref} from 'vue';\nimport {watchDebounced} from '@vueuse/core';\nimport * as ltData from '../api/ltData';\nimport {getUserInfo, loginURL} from '../api/ltDataAuth';\nimport {useRouter} from 'vue-router';\nimport ltSpinner from './ltSpinner.vue';\nimport {t} from './useI18n';\nimport DoorOpen from 'bootstrap-icons/icons/door-open.svg?component';\nimport FileImage from 'bootstrap-icons/icons/file-image.svg?component';\nimport GeoAlt from 'bootstrap-icons/icons/geo-alt.svg?component';\nimport GlobeEuropeAfrica from 'bootstrap-icons/icons/globe-europe-africa.svg?component';\nimport {useLtRoute} from './useLtRoute';\n\nenum Tab {\n  CATEGORY = 1,\n  USER = 2,\n  FILES = 3\n}\n\nconst {$query} = useLtRoute();\nconst $routes = useRouter();\n\nconst isLoading = ref(false);\nconst $tab = ref<Tab>($query.value.user ? Tab.USER : Tab.CATEGORY);\nconst category = ref<string | undefined>($query.value.category);\nconst categoryDepth = ref(tryParse(parseInt, $query.value.categoryDepth, 3));\nconst categorySuggestions = ref<string[]>([]);\nconst user = ref<string | undefined>($query.value.user);\nconst userLimit = ref(tryParse(parseInt, $query.value.userLimit, undefined));\nconst userStart = ref<string | undefined>($query.value.userStart);\nconst userEnd = ref<string | undefined>($query.value.userEnd);\nconst userSuggestions = ref<string[]>([]);\nconst titles = ref<string>('');\n\nfunction tryParse<T>(parser: (string: string) => T, text: string, fallback: T): T {\n  if (!text) {\n    return fallback;\n  }\n  try {\n    return parser(text as string);\n  } catch {\n    return fallback;\n  }\n}\n\nconst {data: userInfo} = getUserInfo();\n\nwatchDebounced(\n  category,\n  async category => {\n    isLoading.value = true;\n    try {\n      categorySuggestions.value = await ltData.getCategoriesForPrefix(category);\n    } finally {\n      isLoading.value = false;\n    }\n  },\n  {debounce: 500}\n);\n\nwatchDebounced(\n  user,\n  async user => {\n    isLoading.value = true;\n    try {\n      userSuggestions.value = await ltData.getUsersForPrefix(user);\n      console.log(userSuggestions.value);\n    } finally {\n      isLoading.value = false;\n    }\n  },\n  {debounce: 500}\n);\n\nfunction next(name = 'geolocate') {\n  const files = titleList.value.join('|');\n  $routes.push({name, query: {files}});\n}\n\nfunction nextForUser(name = 'geolocate') {\n  $routes.push({\n    name,\n    query: {\n      user: user.value,\n      userLimit: userLimit.value,\n      userStart: userStart.value,\n      userEnd: userEnd.value\n    }\n  });\n}\n\nfunction nextForCategory(name = 'geolocate') {\n  $routes.push({\n    name,\n    query: {\n      category: category.value,\n      categoryDepth: categoryDepth.value\n    }\n  });\n}\n\nconst titleList = computed<string[]>({\n  get: () =>\n    titles.value\n      .split('\\n')\n      .map(file => file?.split('|')[0])\n      .filter(x => x),\n  set: files => (titles.value = files?.join('\\n'))\n});\n\nfunction onFilesPaste($event: ClipboardEvent) {\n  try {\n    if (!$event.clipboardData) return;\n    const html = $event.clipboardData.getData('text/html');\n    if (!html || !/<a/.test(html)) return;\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, 'text/html');\n    const links = doc.getElementsByTagName('a');\n    const files: Record<string, boolean> = {};\n    [...links]\n      .map(a => decodeURI(a.href))\n      .filter(href => !!href)\n      .map(href => href.replace(/.*File:/, 'File:'))\n      .forEach(file => (files[file] = true));\n    titleList.value = Object.keys(files);\n    $event.preventDefault();\n  } catch (ex) {\n    console.warn('Could not parse HTML clipboard content', ex);\n  }\n}\n\nconst msgLoggedIn = computed(() =>\n  t('Hello {{$ctrl.userInfo}}!').replace('{{$ctrl.userInfo}}', userInfo.value?.user)\n);\nconst msgLoadGeolocate = computed(() =>\n  t('Load {{$ctrl.titleList.length}} files to geolocate').replace(\n    '{{$ctrl.titleList.length}}',\n    titleList.value.length\n  )\n);\nconst msgShowMap = computed(() =>\n  t('Show {{$ctrl.titleList.length}} files on map').replace(\n    '{{$ctrl.titleList.length}}',\n    titleList.value.length\n  )\n);\nconst msgShowGallery = computed(() =>\n  t('Show {{$ctrl.titleList.length}} files as gallery').replace(\n    '{{$ctrl.titleList.length}}',\n    titleList.value.length\n  )\n);\n</script>\n","<template>\n  <h2 v-if=\"!userInfo?.user\" class=\"mt-4\">{{ t('Sign in') }}</h2>\n  <p v-if=\"!userInfo?.user\">\n    <span>\n      {{ t('In order to allow locator-tool to modify file description pages, sign in first:') }}\n    </span>\n    <a class=\"btn btn-success icon-link ms-2\" :href=\"loginURL()\">\n      <DoorOpen />\n      <span>{{ t('Log in') }}</span>\n    </a>\n  </p>\n  <p v-if=\"userInfo?.user\" class=\"mt-4\">{{ msgLoggedIn }}</p>\n  <h2>{{ t('Select files to geolocate') }}</h2>\n  <ul class=\"nav nav-pills my-3\">\n    <li class=\"nav-item\">\n      <button\n        class=\"nav-link\"\n        :class=\"{active: $tab === Tab.CATEGORY}\"\n        @click=\"$tab = Tab.CATEGORY\"\n      >\n        {{ t('Category') }}\n      </button>\n    </li>\n    <li class=\"nav-item\">\n      <button class=\"nav-link\" :class=\"{active: $tab === Tab.USER}\" @click=\"$tab = Tab.USER\">\n        {{ t('User files') }}\n      </button>\n    </li>\n    <li class=\"nav-item\">\n      <button class=\"nav-link\" :class=\"{active: $tab === Tab.FILES}\" @click=\"$tab = Tab.FILES\">\n        {{ t('File list') }}\n      </button>\n    </li>\n  </ul>\n  <form v-show=\"$tab === Tab.USER\" @submit.stop.prevent=\"nextForCategory()\">\n    <div class=\"mb-4\">\n      <label for=\"inputUser\">{{ t('User') }}</label>\n      <input\n        id=\"inputUser\"\n        v-model=\"user\"\n        class=\"form-control\"\n        list=\"datalistUser\"\n        placeholder=\"User:…\"\n      />\n    </div>\n    <div class=\"row\">\n      <div class=\"mb-4 col-sm-4\">\n        <label for=\"inputUserLimit\" translate-comment=\"maximum number of files\">\n          {{ t('Limit') }}\n        </label>\n        <input id=\"inputUserLimit\" v-model=\"userLimit\" class=\"form-control\" type=\"number\" />\n      </div>\n      <div class=\"mb-4 col-sm-4\">\n        <label for=\"inputUserStart\">{{ t('Start timestamp') }}</label>\n        <input id=\"inputUserStart\" v-model=\"userStart\" class=\"form-control\" type=\"date\" />\n      </div>\n      <div class=\"mb-4 col-sm-4\">\n        <label for=\"inputUserEnd\">{{ t('End timestamp') }}</label>\n        <input id=\"inputUserEnd\" v-model=\"userEnd\" class=\"form-control\" type=\"date\" />\n      </div>\n    </div>\n    <div class=\"mb-4\">\n      <button class=\"btn btn-success icon-link me-2\" :disabled=\"!user\" @click=\"nextForUser()\">\n        <GeoAlt />\n        <span>{{ t('Load User files to geolocate') }}</span>\n      </button>\n      <button\n        class=\"btn btn-secondary icon-link me-2\"\n        :disabled=\"!user\"\n        @click=\"nextForUser('map')\"\n      >\n        <GlobeEuropeAfrica />\n        <span>{{ t('Show User files on map') }}</span>\n      </button>\n      <button\n        class=\"btn btn-secondary icon-link me-2\"\n        :disabled=\"!user\"\n        @click=\"nextForUser('gallery')\"\n      >\n        <FileImage />\n        <span>{{ t('Show User files as gallery') }}</span>\n      </button>\n      <input class=\"invisible\" type=\"submit\" :disabled=\"!user\" />\n      <lt-spinner v-if=\"isLoading\" />\n      <datalist id=\"datalistUser\">\n        <option v-for=\"i in userSuggestions\" :key=\"i\" :value=\"i\"></option>\n      </datalist>\n    </div>\n  </form>\n  <form v-show=\"$tab === Tab.CATEGORY\" @submit.stop.prevent=\"nextForCategory()\">\n    <div class=\"row\">\n      <div class=\"mb-4 col-lg-10\">\n        <label for=\"inputCategory\">{{ t('Category') }}</label>\n        <input\n          id=\"inputCategory\"\n          v-model=\"category\"\n          class=\"form-control\"\n          list=\"datalistCategory\"\n          placeholder=\"Category:…\"\n        />\n      </div>\n      <div class=\"mb-4 col-lg-2\">\n        <label\n          for=\"inputCategoryDepth\"\n          translate-comment=\"Depth of category tree\"\n          translate-context=\"Category\"\n        >\n          {{ t('Depth') }}\n        </label>\n        <input id=\"inputCategoryDepth\" v-model=\"categoryDepth\" class=\"form-control\" type=\"number\" />\n      </div>\n    </div>\n    <div class=\"mb-4\">\n      <button\n        class=\"btn btn-success icon-link me-2\"\n        :disabled=\"!category\"\n        @click=\"nextForCategory()\"\n      >\n        <GeoAlt />\n        <span>{{ t('Load Category to geolocate') }}</span>\n      </button>\n      <button\n        class=\"btn btn-secondary icon-link me-2\"\n        :disabled=\"!category\"\n        @click=\"nextForCategory('map')\"\n      >\n        <GlobeEuropeAfrica />\n        <span>{{ t('Show Category on map') }}</span>\n      </button>\n      <button\n        class=\"btn btn-secondary icon-link me-2\"\n        :disabled=\"!category\"\n        @click=\"nextForCategory('gallery')\"\n      >\n        <FileImage />\n        <span>{{ t('Show Category as gallery') }}</span>\n      </button>\n      <input class=\"invisible\" type=\"submit\" :disabled=\"!category\" />\n    </div>\n    <lt-spinner v-if=\"isLoading\" />\n    <datalist id=\"datalistCategory\">\n      <option v-for=\"i in categorySuggestions\" :key=\"i\" :value=\"i\"></option>\n    </datalist>\n  </form>\n  <form v-show=\"$tab === Tab.FILES\" @submit.stop.prevent=\"nextForCategory()\">\n    <div class=\"mb-4\">\n      <label for=\"inputTitles\">{{ t('File list') }}</label>\n      <textarea\n        id=\"inputTitles\"\n        v-model=\"titles\"\n        class=\"form-control\"\n        rows=\"10\"\n        placeholder=\"File:…\"\n        @paste=\"onFilesPaste($event)\"\n      ></textarea>\n      <p\n        class=\"form-text\"\n        v-html=\"\n          t(\n            'When a clipboard content containing HTML code (for instance a copied selection from a Commons gallery) is pasted here, locator-tool tries to extract <code>File:</code>s from the code.'\n          )\n        \"\n      ></p>\n    </div>\n    <div class=\"mb-4\">\n      <button class=\"btn btn-success icon-link me-2\" :disabled=\"!titleList.length\" @click=\"next()\">\n        <GeoAlt />\n        <span>{{ msgLoadGeolocate }}</span>\n      </button>\n      <button\n        class=\"btn btn-secondary icon-link me-2\"\n        :disabled=\"!titleList.length\"\n        @click=\"next('map')\"\n      >\n        <GlobeEuropeAfrica />\n        <span>{{ msgShowMap }}</span>\n      </button>\n      <button\n        class=\"btn btn-secondary icon-link me-2\"\n        :disabled=\"!titleList.length\"\n        @click=\"next('gallery')\"\n      >\n        <FileImage />\n        <span>{{ msgShowGallery }}</span>\n      </button>\n    </div>\n  </form>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed, ref} from 'vue';\nimport {watchDebounced} from '@vueuse/core';\nimport * as ltData from '../api/ltData';\nimport {getUserInfo, loginURL} from '../api/ltDataAuth';\nimport {useRouter} from 'vue-router';\nimport ltSpinner from './ltSpinner.vue';\nimport {t} from './useI18n';\nimport DoorOpen from 'bootstrap-icons/icons/door-open.svg?component';\nimport FileImage from 'bootstrap-icons/icons/file-image.svg?component';\nimport GeoAlt from 'bootstrap-icons/icons/geo-alt.svg?component';\nimport GlobeEuropeAfrica from 'bootstrap-icons/icons/globe-europe-africa.svg?component';\nimport {useLtRoute} from './useLtRoute';\n\nenum Tab {\n  CATEGORY = 1,\n  USER = 2,\n  FILES = 3\n}\n\nconst {$query} = useLtRoute();\nconst $routes = useRouter();\n\nconst isLoading = ref(false);\nconst $tab = ref<Tab>($query.value.user ? Tab.USER : Tab.CATEGORY);\nconst category = ref<string | undefined>($query.value.category);\nconst categoryDepth = ref(tryParse(parseInt, $query.value.categoryDepth, 3));\nconst categorySuggestions = ref<string[]>([]);\nconst user = ref<string | undefined>($query.value.user);\nconst userLimit = ref(tryParse(parseInt, $query.value.userLimit, undefined));\nconst userStart = ref<string | undefined>($query.value.userStart);\nconst userEnd = ref<string | undefined>($query.value.userEnd);\nconst userSuggestions = ref<string[]>([]);\nconst titles = ref<string>('');\n\nfunction tryParse<T>(parser: (string: string) => T, text: string, fallback: T): T {\n  if (!text) {\n    return fallback;\n  }\n  try {\n    return parser(text as string);\n  } catch {\n    return fallback;\n  }\n}\n\nconst {data: userInfo} = getUserInfo();\n\nwatchDebounced(\n  category,\n  async category => {\n    isLoading.value = true;\n    try {\n      categorySuggestions.value = await ltData.getCategoriesForPrefix(category);\n    } finally {\n      isLoading.value = false;\n    }\n  },\n  {debounce: 500}\n);\n\nwatchDebounced(\n  user,\n  async user => {\n    isLoading.value = true;\n    try {\n      userSuggestions.value = await ltData.getUsersForPrefix(user);\n      console.log(userSuggestions.value);\n    } finally {\n      isLoading.value = false;\n    }\n  },\n  {debounce: 500}\n);\n\nfunction next(name = 'geolocate') {\n  const files = titleList.value.join('|');\n  $routes.push({name, query: {files}});\n}\n\nfunction nextForUser(name = 'geolocate') {\n  $routes.push({\n    name,\n    query: {\n      user: user.value,\n      userLimit: userLimit.value,\n      userStart: userStart.value,\n      userEnd: userEnd.value\n    }\n  });\n}\n\nfunction nextForCategory(name = 'geolocate') {\n  $routes.push({\n    name,\n    query: {\n      category: category.value,\n      categoryDepth: categoryDepth.value\n    }\n  });\n}\n\nconst titleList = computed<string[]>({\n  get: () =>\n    titles.value\n      .split('\\n')\n      .map(file => file?.split('|')[0])\n      .filter(x => x),\n  set: files => (titles.value = files?.join('\\n'))\n});\n\nfunction onFilesPaste($event: ClipboardEvent) {\n  try {\n    if (!$event.clipboardData) return;\n    const html = $event.clipboardData.getData('text/html');\n    if (!html || !/<a/.test(html)) return;\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, 'text/html');\n    const links = doc.getElementsByTagName('a');\n    const files: Record<string, boolean> = {};\n    [...links]\n      .map(a => decodeURI(a.href))\n      .filter(href => !!href)\n      .map(href => href.replace(/.*File:/, 'File:'))\n      .forEach(file => (files[file] = true));\n    titleList.value = Object.keys(files);\n    $event.preventDefault();\n  } catch (ex) {\n    console.warn('Could not parse HTML clipboard content', ex);\n  }\n}\n\nconst msgLoggedIn = computed(() =>\n  t('Hello {{$ctrl.userInfo}}!').replace('{{$ctrl.userInfo}}', userInfo.value?.user)\n);\nconst msgLoadGeolocate = computed(() =>\n  t('Load {{$ctrl.titleList.length}} files to geolocate').replace(\n    '{{$ctrl.titleList.length}}',\n    titleList.value.length\n  )\n);\nconst msgShowMap = computed(() =>\n  t('Show {{$ctrl.titleList.length}} files on map').replace(\n    '{{$ctrl.titleList.length}}',\n    titleList.value.length\n  )\n);\nconst msgShowGallery = computed(() =>\n  t('Show {{$ctrl.titleList.length}} files as gallery').replace(\n    '{{$ctrl.titleList.length}}',\n    titleList.value.length\n  )\n);\n</script>\n"],"mappings":"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"}